{"id":"EaXf","dependencies":[{"name":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/package.json","includedInParent":true,"mtime":1558523328272},{"name":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/package.json","includedInParent":true,"mtime":1558523425215},{"name":"./Body","loc":{"line":7,"column":19},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/Body.js"},{"name":"../../math/Clamp","loc":{"line":8,"column":20},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/Clamp.js"},{"name":"../../utils/Class","loc":{"line":9,"column":20},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/utils/Class.js"},{"name":"./Collider","loc":{"line":10,"column":23},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/Collider.js"},{"name":"./const","loc":{"line":11,"column":20},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/const.js"},{"name":"../../math/distance/DistanceBetween","loc":{"line":12,"column":30},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/distance/DistanceBetween.js"},{"name":"eventemitter3","loc":{"line":13,"column":27},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/eventemitter3/index.js"},{"name":"./events","loc":{"line":14,"column":21},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/events/index.js"},{"name":"../../math/fuzzy/Equal","loc":{"line":15,"column":25},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/fuzzy/Equal.js"},{"name":"../../math/fuzzy/GreaterThan","loc":{"line":16,"column":31},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/fuzzy/GreaterThan.js"},{"name":"../../math/fuzzy/LessThan","loc":{"line":17,"column":28},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/fuzzy/LessThan.js"},{"name":"./GetOverlapX","loc":{"line":18,"column":26},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/GetOverlapX.js"},{"name":"./GetOverlapY","loc":{"line":19,"column":26},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/GetOverlapY.js"},{"name":"../../utils/object/GetValue","loc":{"line":20,"column":23},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/utils/object/GetValue.js"},{"name":"../../structs/ProcessQueue","loc":{"line":21,"column":27},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/structs/ProcessQueue.js"},{"name":"./tilemap/ProcessTileCallbacks","loc":{"line":22,"column":35},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/tilemap/ProcessTileCallbacks.js"},{"name":"../../geom/rectangle/Rectangle","loc":{"line":23,"column":24},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/geom/rectangle/Rectangle.js"},{"name":"../../structs/RTree","loc":{"line":24,"column":20},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/structs/RTree.js"},{"name":"./tilemap/SeparateTile","loc":{"line":25,"column":27},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/tilemap/SeparateTile.js"},{"name":"./SeparateX","loc":{"line":26,"column":24},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/SeparateX.js"},{"name":"./SeparateY","loc":{"line":27,"column":24},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/SeparateY.js"},{"name":"../../structs/Set","loc":{"line":28,"column":18},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/structs/Set.js"},{"name":"./StaticBody","loc":{"line":29,"column":25},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/StaticBody.js"},{"name":"./tilemap/TileIntersectsBody","loc":{"line":30,"column":33},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/tilemap/TileIntersectsBody.js"},{"name":"../../gameobjects/components/TransformMatrix","loc":{"line":31,"column":30},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/gameobjects/components/TransformMatrix.js"},{"name":"../../math/Vector2","loc":{"line":32,"column":22},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/Vector2.js"},{"name":"../../math/Wrap","loc":{"line":33,"column":19},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/physics/arcade/World.js","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/node_modules/phaser/src/math/Wrap.js"}],"generated":{"js":"var e=require(\"./Body\"),t=require(\"../../math/Clamp\"),i=require(\"../../utils/Class\"),r=require(\"./Collider\"),s=require(\"./const\"),o=require(\"../../math/distance/DistanceBetween\"),a=require(\"eventemitter3\"),l=require(\"./events\"),n=require(\"../../math/fuzzy/Equal\"),h=require(\"../../math/fuzzy/GreaterThan\"),c=require(\"../../math/fuzzy/LessThan\"),d=require(\"./GetOverlapX\"),u=require(\"./GetOverlapY\"),y=require(\"../../utils/object/GetValue\"),m=require(\"../../structs/ProcessQueue\"),p=require(\"./tilemap/ProcessTileCallbacks\"),b=require(\"../../geom/rectangle/Rectangle\"),v=require(\"../../structs/RTree\"),g=require(\"./tilemap/SeparateTile\"),f=require(\"./SeparateX\"),x=require(\"./SeparateY\"),C=require(\"../../structs/Set\"),T=require(\"./StaticBody\"),O=require(\"./tilemap/TileIntersectsBody\"),w=require(\"../../gameobjects/components/TransformMatrix\"),S=require(\"../../math/Vector2\"),B=require(\"../../math/Wrap\"),_=new i({Extends:a,initialize:function(e,t){a.call(this),this.scene=e,this.bodies=new C,this.staticBodies=new C,this.pendingDestroy=new C,this.late=new C,this._late=!1,this.colliders=new m,this.gravity=new S(y(t,\"gravity.x\",0),y(t,\"gravity.y\",0)),this.bounds=new b(y(t,\"x\",0),y(t,\"y\",0),y(t,\"width\",e.sys.scale.width),y(t,\"height\",e.sys.scale.height)),this.checkCollision={up:y(t,\"checkCollision.up\",!0),down:y(t,\"checkCollision.down\",!0),left:y(t,\"checkCollision.left\",!0),right:y(t,\"checkCollision.right\",!0)},this.fps=y(t,\"fps\",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(t,\"timeScale\",1),this.OVERLAP_BIAS=y(t,\"overlapBias\",4),this.TILE_BIAS=y(t,\"tileBias\",16),this.forceX=y(t,\"forceX\",!1),this.isPaused=y(t,\"isPaused\",!1),this._total=0,this.drawDebug=y(t,\"debug\",!1),this.debugGraphic,this.defaults={debugShowBody:y(t,\"debugShowBody\",!0),debugShowStaticBody:y(t,\"debugShowStaticBody\",!0),debugShowVelocity:y(t,\"debugShowVelocity\",!0),bodyDebugColor:y(t,\"debugBodyColor\",16711935),staticBodyDebugColor:y(t,\"debugStaticBodyColor\",255),velocityDebugColor:y(t,\"debugVelocityColor\",65280)},this.maxEntries=y(t,\"maxEntries\",16),this.useTree=y(t,\"useTree\",!0),this.tree=new v(this.maxEntries),this.staticTree=new v(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new w,this._tempMatrix2=new w,this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){void 0===t&&(t=s.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(r.isParent)for(var o=r.getChildren(),a=0;a<o.length;a++){var l=o[a];l.isParent?this.enable(l,t):this.enableBody(l,t)}else this.enableBody(r,t)}},enableBody:function(t,i){return void 0===i&&(i=s.DYNAMIC_BODY),t.body||(i===s.DYNAMIC_BODY?t.body=new e(this,t):i===s.STATIC_BODY&&(t.body=new T(this,t))),this.add(t.body),t},add:function(e){return e.physicsType===s.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===s.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(i.isParent)for(var r=i.getChildren(),s=0;s<r.length;s++){var o=r[s];o.isParent?this.disable(o):this.disableBody(o.body)}else this.disableBody(i.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===s.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e),this.late.delete(e)):e.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,i,r,s,o,a,l){return this.bounds.setTo(e,t,i,r),void 0!==s&&this.setBoundsCollision(s,o,a,l),this},setBoundsCollision:function(e,t,i,r){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=i,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(e,t,i,s,o){void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=i);var a=new r(this,!1,e,t,i,s,o);return this.colliders.add(a),a},addOverlap:function(e,t,i,s,o){void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=i);var a=new r(this,!0,e,t,i,s,o);return this.colliders.add(a),a},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!this.isPaused&&0!==this.bodies.size){var i=0,r=this._frameTime,s=this._frameTimeMS*this.timeScale;for(this._elapsed+=t,this._late=!1;this._elapsed>=s;)this._elapsed-=s,i++,this.step(r);this.stepsLastFrame=i,this._late=!0}},step:function(e){var t,i,r=this.bodies.entries,s=r.length;for(t=0;t<s;t++)(i=r[t]).enable&&i.update(e);this.useTree&&(this.tree.clear(),this.tree.load(r));var o=this.colliders.update();for(t=0;t<o.length;t++){var a=o[t];a.active&&a.update()}for(s=r.length,t=0;t<s;t++)(i=r[t]).enable&&i.postUpdate()},postUpdate:function(){var e,t,i,r,o=this.bodies,a=this.staticBodies,l=this.pendingDestroy,n=this.late;if(n.size>0){for(r=(t=n.entries).length,e=0;e<r;e++)(i=t[e]).enable&&i.postUpdate();n.clear()}if(this._late=!1,r=(t=o.entries).length,this.drawDebug){var h=this.debugGraphic;for(h.clear(),e=0;e<r;e++)(i=t[e]).willDrawDebug()&&i.drawDebug(h);for(r=(t=a.entries).length,e=0;e<r;e++)(i=t[e]).willDrawDebug()&&i.drawDebug(h)}if(l.size>0){var c=this.tree,d=this.staticTree;for(r=(t=l.entries).length,e=0;e<r;e++)(i=t[e]).physicsType===s.DYNAMIC_BODY?(c.remove(i),o.delete(i),n.delete(i)):i.physicsType===s.STATIC_BODY&&(d.remove(i),a.delete(i)),i.world=void 0,i.gameObject=void 0;l.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,i){var r=e.angularVelocity,s=e.angularAcceleration,o=e.angularDrag,a=e.maxAngular;s?r+=s*i:e.allowDrag&&o&&(h(r-(o*=i),0,.1)?r-=o:c(r+o,0,.1)?r+=o:r=0);var l=(r=t(r,-a,a))-e.angularVelocity;e.angularVelocity+=l,e.rotation+=e.angularVelocity*i},computeVelocity:function(e,i){var r=e.velocity.x,s=e.acceleration.x,o=e.drag.x,a=e.maxVelocity.x,l=e.velocity.y,d=e.acceleration.y,u=e.drag.y,y=e.maxVelocity.y,m=e.speed,p=e.maxSpeed,b=e.allowDrag,v=e.useDamping;e.allowGravity&&(r+=(this.gravity.x+e.gravity.x)*i,l+=(this.gravity.y+e.gravity.y)*i),s?r+=s*i:b&&o&&(v?(r*=o,n(m,0,.001)&&(r=0)):h(r-(o*=i),0,.01)?r-=o:c(r+o,0,.01)?r+=o:r=0),d?l+=d*i:b&&u&&(v?(l*=u,n(m,0,.001)&&(l=0)):h(l-(u*=i),0,.01)?l-=u:c(l+u,0,.01)?l+=u:l=0),r=t(r,-a,a),l=t(l,-y,y),e.velocity.set(r,l),p>-1&&e.velocity.length()>p&&e.velocity.normalize().scale(p)},separate:function(e,t,i,r,s){if(!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t))return!1;if(i&&!1===i.call(r,e.gameObject,t.gameObject))return!1;if(e.isCircle&&t.isCircle)return this.separateCircle(e,t,s);if(e.isCircle!==t.isCircle){var o=e.isCircle?t:e,a=e.isCircle?e:t,n={x:o.x,y:o.y,right:o.right,bottom:o.bottom},h=a.center;if((h.y<n.y||h.y>n.bottom)&&(h.x<n.x||h.x>n.right))return this.separateCircle(e,t,s)}var c=!1,d=!1;this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(c=f(e,t,s,this.OVERLAP_BIAS),this.intersects(e,t)&&(d=x(e,t,s,this.OVERLAP_BIAS))):(d=x(e,t,s,this.OVERLAP_BIAS),this.intersects(e,t)&&(c=f(e,t,s,this.OVERLAP_BIAS)));var u=c||d;return u&&(s?(e.onOverlap||t.onOverlap)&&this.emit(l.OVERLAP,e.gameObject,t.gameObject,e,t):(this._late&&(this.late.set(e),this.late.set(t)),(e.onCollide||t.onCollide)&&this.emit(l.COLLIDE,e.gameObject,t.gameObject,e,t))),u},separateCircle:function(e,t,i,r){d(e,t,!1,r),u(e,t,!1,r);var s=t.center.x-e.center.x,a=t.center.y-e.center.y,n=Math.atan2(a,s),h=0;if(e.isCircle!==t.isCircle){var c={x:t.isCircle?e.position.x:t.position.x,y:t.isCircle?e.position.y:t.position.y,right:t.isCircle?e.right:t.right,bottom:t.isCircle?e.bottom:t.bottom},y={x:e.isCircle?e.center.x:t.center.x,y:e.isCircle?e.center.y:t.center.y,radius:e.isCircle?e.halfWidth:t.halfWidth};y.y<c.y?y.x<c.x?h=o(y.x,y.y,c.x,c.y)-y.radius:y.x>c.right&&(h=o(y.x,y.y,c.right,c.y)-y.radius):y.y>c.bottom&&(y.x<c.x?h=o(y.x,y.y,c.x,c.bottom)-y.radius:y.x>c.right&&(h=o(y.x,y.y,c.right,c.bottom)-y.radius)),h*=-1}else h=e.halfWidth+t.halfWidth-o(e.center.x,e.center.y,t.center.x,t.center.y);if(i||0===h||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==h&&(e.onOverlap||t.onOverlap)&&this.emit(l.OVERLAP,e.gameObject,t.gameObject,e,t),0!==h;var m=e.velocity.x,p=e.velocity.y,b=e.mass,v=t.velocity.x,g=t.velocity.y,f=t.mass,x=m*Math.cos(n)+p*Math.sin(n),C=m*Math.sin(n)-p*Math.cos(n),T=v*Math.cos(n)+g*Math.sin(n),O=v*Math.sin(n)-g*Math.cos(n),w=((b-f)*x+2*f*T)/(b+f),S=(2*b*x+(f-b)*T)/(b+f);e.immovable||(e.velocity.x=(w*Math.cos(n)-C*Math.sin(n))*e.bounce.x,e.velocity.y=(C*Math.cos(n)+w*Math.sin(n))*e.bounce.y,m=e.velocity.x,p=e.velocity.y),t.immovable||(t.velocity.x=(S*Math.cos(n)-O*Math.sin(n))*t.bounce.x,t.velocity.y=(O*Math.cos(n)+S*Math.sin(n))*t.bounce.y,v=t.velocity.x,g=t.velocity.y),Math.abs(n)<Math.PI/2?m>0&&!e.immovable&&v>m?e.velocity.x*=-1:v<0&&!t.immovable&&m<v?t.velocity.x*=-1:p>0&&!e.immovable&&g>p?e.velocity.y*=-1:g<0&&!t.immovable&&p<g&&(t.velocity.y*=-1):Math.abs(n)>Math.PI/2&&(m<0&&!e.immovable&&v<m?e.velocity.x*=-1:v>0&&!t.immovable&&m>v?t.velocity.x*=-1:p<0&&!e.immovable&&g<p?e.velocity.y*=-1:g>0&&!t.immovable&&m>g&&(t.velocity.y*=-1));var B=this._frameTime;return e.immovable||(e.x+=e.velocity.x*B-h*Math.cos(n),e.y+=e.velocity.y*B-h*Math.sin(n)),t.immovable||(t.x+=t.velocity.x*B+h*Math.cos(n),t.y+=t.velocity.y*B+h*Math.sin(n)),(e.onCollide||t.onCollide)&&this.emit(l.COLLIDE,e.gameObject,t.gameObject,e,t),e.postUpdate(),t.postUpdate(),!0},intersects:function(e,t){return e!==t&&(e.isCircle||t.isCircle?e.isCircle?t.isCircle?o(e.center.x,e.center.y,t.center.x,t.center.y)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e):!(e.right<=t.position.x||e.bottom<=t.position.y||e.position.x>=t.right||e.position.y>=t.bottom))},circleBodyIntersects:function(e,i){var r=t(e.center.x,i.left,i.right),s=t(e.center.y,i.top,i.bottom);return(e.center.x-r)*(e.center.x-r)+(e.center.y-s)*(e.center.y-s)<=e.halfWidth*e.halfWidth},overlap:function(e,t,i,r,s){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=i),this.collideObjects(e,t,i,r,s,!0)},collide:function(e,t,i,r,s){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=i),this.collideObjects(e,t,i,r,s,!1)},collideObjects:function(e,t,i,r,s,o){var a;e.isParent&&void 0===e.physicsType&&(e=e.children.entries),t&&t.isParent&&void 0===t.physicsType&&(t=t.children.entries);var l=Array.isArray(e),n=Array.isArray(t);if(this._total=0,l||n)if(!l&&n)for(a=0;a<t.length;a++)this.collideHandler(e,t[a],i,r,s,o);else if(l&&!n)for(a=0;a<e.length;a++)this.collideHandler(e[a],t,i,r,s,o);else for(a=0;a<e.length;a++)for(var h=0;h<t.length;h++)this.collideHandler(e[a],t[h],i,r,s,o);else this.collideHandler(e,t,i,r,s,o);return this._total>0},collideHandler:function(e,t,i,r,s,o){if(void 0===t&&e.isParent)return this.collideGroupVsGroup(e,e,i,r,s,o);if(!e||!t)return!1;if(e.body){if(t.body)return this.collideSpriteVsSprite(e,t,i,r,s,o);if(t.isParent)return this.collideSpriteVsGroup(e,t,i,r,s,o);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,i,r,s,o)}else if(e.isParent){if(t.body)return this.collideSpriteVsGroup(t,e,i,r,s,o);if(t.isParent)return this.collideGroupVsGroup(e,t,i,r,s,o);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,i,r,s,o)}else if(e.isTilemap){if(t.body)return this.collideSpriteVsTilemapLayer(t,e,i,r,s,o);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,i,r,s,o)}},collideSpriteVsSprite:function(e,t,i,r,s,o){return!(!e.body||!t.body)&&(this.separate(e.body,t.body,r,s,o)&&(i&&i.call(s,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,i,r,o,a){var l,n,h,c=e.body;if(0!==t.length&&c&&c.enable)if(this.useTree){var d=this.treeMinMax;d.minX=c.left,d.minY=c.top,d.maxX=c.right,d.maxY=c.bottom;var u=t.physicsType===s.DYNAMIC_BODY?this.tree.search(d):this.staticTree.search(d);for(n=u.length,l=0;l<n;l++)c!==(h=u[l])&&t.contains(h.gameObject)&&this.separate(c,h,r,o,a)&&(i&&i.call(o,c.gameObject,h.gameObject),this._total++)}else{var y=t.getChildren(),m=t.children.entries.indexOf(e);for(n=y.length,l=0;l<n;l++)(h=y[l].body)&&l!==m&&h.enable&&this.separate(c,h,r,o,a)&&(i&&i.call(o,c.gameObject,h.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(e,t,i,r,s,o){var a=e.getChildren();if(0===a.length)return!1;for(var l=!1,n=0;n<a.length;n++)a[n].body&&this.collideSpriteVsTilemapLayer(a[n],t,i,r,s,o)&&(l=!0);return l},collideSpriteVsTilemapLayer:function(e,t,i,r,s,o){var a=e.body;if(!a.enable)return!1;var n=a.position.x,h=a.position.y,c=a.width,d=a.height,u=t.layer;if(u.tileWidth>u.baseTileWidth){var y=(u.tileWidth-u.baseTileWidth)*t.scaleX;n-=y,c+=y}u.tileHeight>u.baseTileHeight&&(d+=(u.tileHeight-u.baseTileHeight)*t.scaleY);var m,b=t.getTilesWithinWorldXY(n,h,c,d);if(0===b.length)return!1;for(var v={left:0,right:0,top:0,bottom:0},f=0;f<b.length;f++)m=b[f],v.left=t.tileToWorldX(m.x),v.top=t.tileToWorldY(m.y),m.baseHeight!==m.height&&(v.top-=(m.height-m.baseHeight)*t.scaleY),v.right=v.left+m.width*t.scaleX,v.bottom=v.top+m.height*t.scaleY,O(v,a)&&(!r||r.call(s,e,m))&&p(m,e)&&(o||g(f,a,m,v,t,this.TILE_BIAS))&&(this._total++,i&&i.call(s,e,m),o&&a.onOverlap?this.emit(l.TILE_OVERLAP,a.gameObject,m,a):a.onCollide&&this.emit(l.TILE_COLLIDE,a.gameObject,m,a),a.postUpdate())},collideGroupVsGroup:function(e,t,i,r,s,o){if(0!==e.length&&0!==t.length)for(var a=e.getChildren(),l=0;l<a.length;l++)this.collideSpriteVsGroup(a[l],t,i,r,s,o)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var i=0;i<e.length;i++)this.wrapObject(e[i],t)},wrapObject:function(e,t){void 0===t&&(t=0),e.x=B(e.x,this.bounds.left-t,this.bounds.right+t),e.y=B(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.late.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});module.exports=_;"},"sourceMaps":null,"error":null,"hash":"8d9f6190c0fa50d13264d4d1e34f4cec","cacheData":{"env":{}}}